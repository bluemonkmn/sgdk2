<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>Scrolling Game Development Kit 2 - Map Editor</title>
      <meta content="Microsoft Visual Studio .NET 7.1" name="GENERATOR" />
      <meta content="http://schemas.microsoft.com/intellisense/ie5" name="vs_targetSchema" />
      <link href="SGDK2Help.css" type="text/css" rel="stylesheet" />
   </head>
   <body>
      <h1>Map Editor</h1>
      <p>This screen allows you to edit the tiles, sprites and coordinates of plans 
         contained within a layer of a map. To use the map editor, double-click on the 
         "Editor" node inside any layer node in the project tree, or select it and 
         activate it from the menu.</p>
      <h2>Edit Menu</h2>
      <h3>Delete Selected Object</h3>
      <p class="SubPara">When a sprite, plan or coordinate is selected, this command 
         will delete it. This command is worded differently depending on the active tab 
         and last selected object.</p>
      <h3>Snap to Tiles</h3>
      <p class="SubPara">When turned on and placing a sprite or coordinate on the layer, 
         this will ensure that it is placed at the top left corner of a tile. Rectangles 
         associated with plan coordinates are always reduced in size by one pixel (in 
         each dimension) so that they exactly cover the contained tiles (when snap to 
         tiles is used) rather than extending one pixel into the neighboring tiles.</p>
      <h3>Add Plan</h3>
      <p class="SubPara">Add a new plan to the layer. This accomplishes the same thing 
         as adding a plan from the project tree, except the <a href="PlanEdit.html">plan 
            editor</a> is not displayed. The plan is added even if the "Plans" tab is 
         not active. The new plan is assigned a default name based on the map name (and 
         numbered in case multiple plans are created with default names). To add 
         coordinates to the new plan, select it on the Plans tab, and click in the 
         editor's main layer view. To change other properties, refer to the grid in the 
         bottom left corner. To edit the behavior assigned to the plan, see "Selected 
         Plan Details" below.</p>
      <h3>Selected Plan Details</h3>
      <p class="SubPara">Display the <a href="EditPlan.html">plan editor</a> for the 
         currently selected plan. The plan editor edits the rules associated with the 
         plan whereas the map editor can only edit the coordinates and variables 
         associated with a plan. (Plan variables are defined in PlanBase.cs in the 
         source code editor.)</p>
      <h3>Locate Selected Object</h3>
      <p class="SubPara">Scrolls the main layer view so the selected sprite or plan 
         coordinate is visible (if a plan is selected, but not coordinate, the view will 
         scroll to the first coordinate). This is useful when you want to select a 
         sprite or plan by name in the list on the left, and quickly scroll to it.</p>
      <h3>Sort Plans</h3>
      <p class="SubPara">Sort the list of plan names alphabetically.</p>
      <h2>View Menu</h2>
      <p>There is only one command unique to the Map Editor available in the view menu.</p>
      <h3>Layer Edges</h3>
      <p class="SubPara">Causes an outline to be drawn around the edges of other layers
      in order to see where the edges are in relation to the layer currently being edited.</p>
      <h2>Layers Menu</h2>
      <p>If a foreground layer is obstructing the layer you are editing, you can toggle 
         the visibility of individual layers in this menu. (For that matter, you can 
         toggle them for any other reason too!)</p>
      <h2>Tiles Tab</h2>
      <p>When this tab is active, you can edit the tiles on the layer.</p>
      <h3>Tile Category Selector</h3>
      <p class="SubPara">At the top of the Tiles tab is a dropdown list of tile 
         categories. Use this if you have many tiles in the tileset and don't want to 
         have to search so many tiles for the tile you want to place. This does nothing 
         other than filter the list of tiles visible below. Notice, however, that when 
         extra large tiles are included in the list, it causes all the tiles to be 
         spaced out to equivalent sizes, so creating categories to separate large tiles 
         from small tiles may be useful to allow a more compact list when placing 
         smaller tiles.</p>
      <p class="SubPara">If no category is selected, all tiles in the tileset are 
         displayed. But the number of tiles displayed in that circumstance depends on a 
         couple other factors. Although a layer can technically use any of the 256 tile 
         values for a 1-byte tile, or any of the 32,768 tile values for a 2-byte tile, 
         it would be cumbersome to display 32,768 tiles in the tile selector when only a 
         few are of interest. The tile selector could display all 32,768 values because 
         any undefined tile simply refers to the frame by the same number, and once the 
         frame numbers have been exhausted, the indexing wraps back to the first frame. 
         But to limit the number of tiles displayed, the following rules are used:</p>
      <ul class="SubList">
         <li>
            If a specific category is displayed, only the tiles in the category are 
            displayed, there is no confusion about how many tiles are in a category (only 
            the specific tile indexes are included; subsequent tiles that may look 
            identical are not).</li>
         <li>
            If there are no tiles defined (overridden) in the tileset, the selector simply 
            displays all the frames in the frameset on which the tileset is based.</li>
         <li>
            If the number of last (overridden/defined) tile in the tileset is larger than 
            the number of frames in the frameset, then all tiles from 0 up to that index 
            are displayed. This may result in some repeated images if there are 
            "un-defined" tiles after the first set of tiles corresponding to the frame 
            indexes.</li>
         <li>
            Otherwise the number of tiles displayed is determined by the number of frames 
            in the frameset on which the tileset is based.</li>
      </ul>
      <h3>Tile Selector</h3>
      <p class="SubPara">The main portion of the Tiles tab is dedicated to displaying a 
         list of tiles. To add tiles to the map, simply click on a tile here and then 
         click on the map where you want to place the tile.</p>
      <h3>Status Bar</h3>
      <p class="SubPara">The status bar contains many pieces of information relevant to 
         placing tiles:</p>
      <ul class="SubList">
         <li>
            Tile X,Y: Displays the tile coordinate under the mouse cursor.</li>
         <li>
            Tile @X,Y: Displays the number of the tile currently in the layer at the 
            position under the mouse cursor.</li>
         <li>
            Selected Tile: Displays the number of the currently selected tile in the Tile 
            Selector.</li>
      </ul>
      <h2>Sprites Tab</h2>
      <p>When this tab is active, you can select, move, edit, add and delete sprites. A 
         sprite is a visual element on a layer that can move around according to a set 
         of rules or based on player input, and can interact with other sprites or tiles 
         on the layer.</p>
      <h3>Toolbar</h3>
      <p class="SubPara">A small toolbar appears at the top of this page to provide 
         easily visible shortcuts to relevant operations:</p>
      <ul class="SubList">
         <li>
            Delete selected sprite (same as "Delete Selected Object" in the Edit menu).</li>
         <li>
            Locate the selected sprite in the map (same as "Locate Selected Object" in the 
            Edit menu).</li>
      </ul>
      <h3>Select Sprites</h3>
      <p class="SubPara">When this option is selected, the sprites tab is in a mode that 
         allows you to select existing sprites by clicking on them in a list or by 
         clicking on them in the main layer editor view. When a sprite is selected, its 
         properties appear in a grid at the lower left corner of the window, and can be 
         changed directly. Selected sprites can also be easily moved to a new location 
         by dragging them in the main layer view. Multiple sprites can be selected by 
         holding the Ctrl key while clicking. If the mouse is clicked on an area of the 
         map where there are no sprites, all sprites will be de-selected.</p>
      <p class="SubPara"><strong>Tip:</strong> When multiple sprites are selected, you 
         can still use the properties window in the lower left. Setting a property when 
         multiple sprites are selected sets the property for all selected sprites at 
         once. Properties that are the same for all selected sprites are displayed. 
         Properties that are different for some selected sprites are left blank and not 
         changed unless a new value is entered.</p>
      <h3 class="SubPara">Add Sprites</h3>
      <p class="SubPara">When this option is selected, the sprites tab is in a mode that 
         allows you to create new sprites and add them to the current layer. In this 
         mode, instead of displaying a list of existing sprites, two other elements are 
         displayed. First is a dropdown list of sprite categories, which works very 
         similarly to the tile category selector on the Tiles tab. And second is a 
         selection of sprite types, which you can add to the current layer. Adding a 
         sprite to the layer is as easy as adding a tile. Click on one and then click on 
         the layer. There are, however, a few additional options and considerations 
         before placing the sprite on the layer. Before adding the sprite to the layer, 
         the properties of the new sprite can be edited in the properties window at the 
         bottom. But it's not necessary to set any properties before placing a sprite 
         because they can also all be changed (in Select Sprites mode) after the sprite 
         is added. Each new sprite that is added is assigned a default name based on the 
         sprite definition name and a uniquely identifying number. For more information 
         about the sprite's properties, see Sprite Properties below.</p>
      <h3 class="">Sprite Properties</h3>
      <p class="SubPara">At the bottom of the sprites tab is a list of properties that 
         can be set or altered for the currently active sprite. In Select Sprites mode, 
         this represents the properties of the selected sprite or sprites. In Add 
         Sprites mode, this represents the properties of the sprite about to be added. 
         Below are details about the various properties that are displayed here.</p>
      <table id="Table1" class="SubPara" cellspacing="1" cellpadding="1" border="1" summary="Lists the name of each sprite property in the first column and a description in the second">
         <tr>
            <td>Active</td>
            <td>The default of True makes the sprite automatically visible and active as soon 
               as the map becomes current. Active Sprites are drawn and process their rules 
               whereas inactive sprites are not drawn and don't process rules. Furthermore, 
               any rule that tries to operate on an inactive sprite will display an error 
               message in debug mode.</td>
         </tr>
         <tr>
            <td>CurrentFrame</td>
            <td>Each state in a sprite may consist of multiple frames of animation. This 
               property determines which frame the sprite initially displays.</td>
         </tr>
         <tr>
            <td>CurrentState</td>
            <td>Each sprite has multiple states in which it can exist. This property 
               determines in which state the sprite initially exists.</td>
         </tr>
         <tr>
            <td>DefinitionName</td>
            <td>This is displayed for informational purposes and reflects the sprite 
               definition on which the sprite is based. This might be important if you have 
               many sprites that can look similar or identical, but behave according to 
               different rules.</td>
         </tr>
         <tr>
            <td>DX</td>
            <td>The horizontal velocity of the sprite in pixels per frame. This may be a 
               fractional value.</td>
         </tr>
         <tr>
            <td>DY</td>
            <td>The vertical velocity of the sprite in pixels per frame. This may be a 
               fractional value.</td>
         </tr>
         <tr>
            <td>ModulateAlpha</td>
            <td>Controls sprite-level transparency. This is a number from 0 (invisible) to 255 
               (opaque) that affects the visibility level of the sprite. The value is combined 
               with the ModulateAlpha value of the frames that make up the sprite, so if you 
               have a frame with a ModulateAlpha value of 128 (50%) in a sprite with a 
               ModulateAlpha of 128 (50%), the final ModulateAlpha level for that frame will 
               be 64 (25%).</td>
         </tr>
         <tr>
            <td>ModulateBlue</td>
            <td>Controls the appearance of blue at the sprite level. This is a number from 0 
               (no blue) to 255 (original amount of blue) and is merged with the ModulateBlue 
               value of the frames.</td>
         </tr>
         <tr>
            <td>ModulateGreen</td>
            <td>Controls the appearance of green at the sprite level. This is a number from 0 
               (no green) to 255 (original amount of green) and is merged with the 
               ModulateGreen value of the frames.</td>
         </tr>
         <tr>
            <td>ModulateRed</td>
            <td>Controls the appearance of red at the sprite level. This is a number from 0 
               (no red) to 255 (original amount of red) and is merged with the ModulateRed 
               value of the frames.</td>
         </tr>
         <tr>
            <td>Name</td>
            <td>Assigns a unique name to this individual sprite instance based on the sprite 
               definition name and a uniquely identifying number within the layer. A sprite 
               name must be unique among all the sprites within the same layer. Names must 
               begin with a letter and contain only letters, digits and spaces.</td>
         </tr>
         <tr>
            <td>Priority</td>
            <td>Determines the order that sprites are drawn. Lower numbers are drawn first, 
               and therefore appear behind sprites with higher proprity numbers. This number 
               also determines when a sprite is drawn relative to the tiles in the layer. If 
               the layer's priority value is lower than that of the sprite, the sprite will 
               draw in front of the tiles. If the layer's priority value is higher than that 
               of the sprite, the sprite will draw behind the tiles. If the layer's priority 
               value is equal to that of the sprite, the sprite will be "interleaved" with the 
               rows of tiles on the layer. Since the default priority of a layer is 0, and you 
               usually don't want to interleave the sprites with the layer's tiles, this value 
               should usually be changed to a 1 or higher. See more information about priority 
               in the <a href="LayerManager.html">Layer Manager</a>. If two sprites have the 
               same priority, the order in which they will be drawn is arbitrarily assigned 
               when the project is compiled, but will never change after that.</td>
         </tr>
         <tr>
            <td>Solidity</td>
            <td>Determines which tiles this sprite sees as solid and various other shapes. If 
               this is not set, the sprite will not be blocked by any tiles.</td>
         </tr>
         <tr>
            <td>X</td>
            <td>The horizontal position of the sprite within the layer (the number of pixels 
               between the left edge of the sprite and the left edge of the layer). This can 
               be edited manually, but it's easier to place or drag the sprite in the main 
               layer view.</td>
         </tr>
         <tr>
            <td>Y</td>
            <td>The vertical position of the sprite within the layer (the number of pixels 
               between the top of the sprite and the top of the layer). This can be edited 
               manually, but it's easier to place or drag the sprite in the main layer view.</td>
         </tr>
         <tr>
            <td><strong>(Sprite Parameters)</strong></td>
            <td>Additional parameters can be added to sprites on the Parameters tab of the <a href="SpriteDefinition.html">
                  Sprite Definition</a> editor. They will appear here so that you can specify 
               initial values for each of these parameters on each instance of each sprite. 
               Sprite parameters are always integers, which means they can only be a numeric 
               value from -2147483648 to 2147483647.</td>
         </tr>
      </table>
      <h3>Status Bar</h3>
      <p class="SubPara">A number of values in the status bar are of interest when using 
         the sprites tab:</p>
      <ul class="SubList">
         <li>
            CTRL - an indicator in the status bar indicates when the editor is aware of the 
            CTRL key being pressed, so you know when selecting a sprite will add to the 
            selection instead of de-selecting first.</li>
         <li>
            Tile X,Y:Although sprites are positioned by pixels rather than tile positions, 
            you may want to position a sprite relative to a particular tile coordinate.</li>
         <li>
            Pixel X,Y: Displays the pixel coordinate at the current mouse cursor position. 
            These are assigned to the X and Y properties of the sprite when a sprite is 
            added to the layer.</li>
         <li>
            Tile @X,Y: Displays the tile number at the current cursor position. If you have 
            many identical-looking tiles but one is actually a different tile with 
            different behavior, this might be useful while positioning a sprite.</li>
      </ul>
      <h2>Plans Tab</h2>
      <p>When this tab is active you can create and delete plans, add, delete and edit 
         coordinates contained in plans, change the basic properties of a plan, or 
         change the properties of coordinates within the plan.</p>
      <p>Plans are used to affect the behavior of sprites and other elements. Plans can 
         consist of:</p>
      <ul>
         <li>
            A series of coordinates (each coordinate can also have a "weight").</li>
         <li>
            A rectangle (based on two coordinates)</li>
         <li>
            A series of rules that perform specific customizable operations according to 
            customizable criteria.</li>
      </ul>
      <p>Plans can contain rules without any coordinates, or could contain coordinates 
         without any rules (maybe to be referenced by another plan). The map editor 
         focuses on the management of the coordinates in plans. To manage the rules 
         within plans, see the <a href="PlanEdit.html">plan editor</a>.</p>
      <h3>Toolbar</h3>
      <p class="SubPara">A number of commands are displayed in a toolbar at the top of 
         the Plans page for easy access to relevant operations.</p>
      <ul class="SubList">
         <li>
            Add new plan. Clicking on this adds a new plan to the layer without any 
            coordinates. The plan is assigned a default name based on the map name and a 
            unique numeric identifier. Once the plan is added, coordinates can be added by 
            clicking in the main layer view with the "Append Coordinates" option active.</li>
         <li>
            Delete selected plan</li>
         <li>
            Edit selected plan (opens the <a href="PlanEdit.html">plan editor</a> for this 
            plan)</li>
         <li>
            Sort plans alphabetically</li>
         <li>
            Locate the selected plan coordinate on the map</li>
      </ul>
      <h3>Show All</h3>
      <p class="SubPara">All plans on the current layer are represented as dashed lines 
         leading from point to point, beginning with a round anchor and ending with a 
         pointed arrow. Plans with only two coordinates will show a rectangle indicating 
         that the plan can be applied to rules that require a rectangular area as 
         opposed to a series of coordinates.</p>
      <h3>Show Selected</h3>
      <p class="SubPara">Only display the selected plan. This could improve performance 
         or visibility if there are many plans.</p>
      <h3>Plan Coordinates</h3>
      <p class="SubPara">Displays the X and Y coordinates of each point contained within 
         the plan. Coordinates can be selected in this list or (when "Select 
         Coordinates" is selected) by clicking on them in the main layer view. The 
         currently selected coordinate(s) are highlighted in this list and marked with a 
         red dot in the main layer view. The properties of the selected coordinate(s) 
         can be edited in the grid at the bottom.</p>
      <h3>Append Coordinates</h3>
      <p class="SubPara">When this option is active, clicking in the main layer view 
         will add a coordinate to the end of the path. No dragging is necessary, just 
         click once to add each point. As the mouse moves over the layer, an arrow or 
         point will follow the mouse indicating where the next point would be added when 
         you click. If you move the mouse out of the layer view, the path will be 
         displayed as stored (it will stop showing the "proposed point" following the 
         mouse). Once placed, a coordinate can only be moved by typing a new value in 
         its X and Y properties. See below for more about editing and deleting 
         coordinates after they have been added.</p>
      <h3>Select Coordinates</h3>
      <p class="SubPara">To edit or delete existing coordinates, you can either start by 
         selecting a coordinate in the coordinate list, or you can switch to "Select 
         Coordinates" mode and click on a coordinate in the main layer view. The 
         selected coordinate is highlighted in the coordinate list and marked with a red 
         dot in the layer view. multiple coordinates can be selected by holding Ctrl 
         while selecting, but only coordinates from a single plan can be selected at 
         once. The properties of the selected coordinate(s) are displayed in the grid in 
         the lower left corner. The currently selected coordinate(s) can be deleted with 
         the delete key, or by selecting "Delete Selected Coordinates" from the Edit 
         menu. Note that if you select a plan after selecting a coordinate, then you can 
         only edit and delete the plan as a whole. The last selected object (whether a 
         plan or a coordinate) determines what can be deleted or edited.</p>
      <h3>Properties</h3>
      <p class="SubPara">If the last object selected was a plan, then this grid displays 
         the properties of the plan. If the last selected object was a coordinate, then 
         this grid displays the properties of the coordinate. A plan only has a few 
         properties:</p>
      <ul class="SubList">
         <li>
            <div>
               Name: The name of a plan must be unique among all plan names within the layer. 
               Names must begin with a letter and contain only letters, digits and spaces.
            </div>
         </li>
         <li>
            <div>
               Priority: If the sequence is important in which the rules of a plan are 
               executed relative to those in another plan, you can assign a priority. The 
               rules of lower priority number plans will execute before those in higher 
               priority number plans.
            </div>
         </li>
         <li>
            <div>
               Other: Any number of other parameters can be added to plans by adding variables 
               to the code in the PlanBase.cs file. By default, one additional parameter named 
               "TargetDistance" is added. This determines how close a sprite must be to a 
               coordinate in the plan before proceeding to the next coordinate.
            </div>
         </li>
      </ul>
      <p class="SubPara">The properties of a coordinate are:</p>
      <ul class="SubList">
         <li>
            Plan: Displays which plan the coordinate belongs to</li>
         <li>
            Sequence: Displays the index of the coordinate within the series</li>
         <li>
            Weight: Can be used for various purposes, but functions are provided to use 
            this to determine how long a sprite waits at a coordinate before proceeding to 
            the next</li>
         <li>
            X: The horizontal position of the coordinate</li>
         <li>
            Y: The vertical position of a coordinate</li>
      </ul>
      <p class="SubPara">A coordinate can only be moved by typing new values for the X 
         and Y properties in the property grid. Use the status bar to help locate a new 
         location. Multiple coordinates or plans can be updated at once by holding Ctrl 
         while selecting multiple objects.</p>
      <h3>Status Bar</h3>
      <p class="SubPara">A number of values in the status bar are of interest when using 
         the plans tab:</p>
      <ul class="SubList">
         <li>
            CTRL - an indicator in the status bar indicates when the editor is aware of the 
            CTRL key being pressed, so you know when selecting a coordinate or plan will 
            add to the selection instead of de-selecting first.</li>
         <li>
            Tile X,Y:Although coordinates are positioned by pixels rather than tile 
            positions, you may want to position a coordinate relative to a particular tile 
            coordinate.</li>
         <li>
            Pixel X,Y: Displays the pixel coordinate at the current mouse cursor position. 
            These are assigned to the X and Y properties of the coordinate when a 
            coordinate is added to a plan.</li>
         <li>
            Tile @X,Y: Displays the tile number at the current cursor position. If you have 
            many identical-looking tiles but one is actually a different tile with 
            different behavior, this might be useful while positioning a coordinate.</li>
      </ul>
      <h2>Tools</h2>
      <p>The Tools tab provides some convenient features not available elsewhere in the 
         map editor.</p>
      <h3>Copy</h3>
      <p class="SubPara">Allows you to select and copy a block of tiles. After dragging 
         a rectangle with this command, the editor will automatically switch to the 
         Paste tool.</p>
      <h3>Paste</h3>
      <p class="SubPara">Paste a block of tiles copied with the copy command. Although 
         the preview of the paste may show the tiles being merged in transparent areas, 
         when you actually click, all the tiles in the block will replace the tiles on 
         the layer, causing existing tiles in the layer to be removed.</p>
      <h3>Paste Transparent</h3>
      <p class="SubPara">This is similar to paste, but tiles with a value of 0 will not 
         be pasted. This assumes that tile 0 is your background tile.</p>
   </body>
</html>
