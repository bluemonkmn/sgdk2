<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>Scrolling Game Development Kit 2 - Source Code Editor</title>
      <meta name="GENERATOR" content="Microsoft Visual Studio .NET 7.1" />
      <meta name="vs_targetSchema" content="http://schemas.microsoft.com/intellisense/ie5" />
      <link href="SGDK2Help.css" type="text/css" rel="stylesheet" />
   </head>
   <body>
      <h1>Source Code Editor</h1>
      <p>This window allows you to edit most of the code that is used in compiling an 
         executable file representing the game. The only code that can't be edited here 
         is code that is generated based on data provided to the IDE such as sprite 
         states, tile categories and the layer tiles. Most of the real work, however, is 
         performed by the code files listed in the "Source Code" folder of the project 
         tree, which can all be edited in the code editor.</p>
      <p>Each file listed in the project tree's source code folder is in fact stored 
         within the project (embedded in the project's SGDK2 file). That means that you 
         can customize and change this code as much as you like and it will always apply 
         to that project and only that project.</p>
      <p>There are two primary kinds of source code files that can be listed in the 
         Source Code folder: built-in code and custom code. The term "built-in" does not 
         mean that it can't be changed, but rather that it is provided by default, and 
         usually is required in some form by the hidden code that is generated when the 
         project compiles). When possible it's best to implement/provide customizations 
         in the form of a custom code object rather than by changing the code in a 
         built-in code file because it's more likely that a custom code object can 
         easily be ported from one project to another. Consider, for example, two 
         independent customizations that support some customized sprite behavior. If 
         they are both implemented as rules coded right into SpriteBase.cs, it will be 
         slightly more difficult for a project designer to import both these 
         customizations. The project can import one customized version of SpriteBase.cs, 
         but then when the other version of SpriteBase.cs is imported, it will overwrite 
         the first customized version. But if each customization is implemented in its 
         own custom code file with its own name, then both those files can be imported 
         independently with less likelihood of interference.</p>
      <p>Code files can be arranged hierarchically in the Source Code tree to represent 
         dependencies. For example, sound effects are implemented as custom-code objects 
         that have a dependence on a file called "fmodbase.cs", which in turn has a 
         dependence on "fmod.cs", which in turn has a dependence on "fmodex.dll". This 
         dependence is remembered within the exported files, so when a sound effect that 
         depends on fmodbase.cs is imported, that file is also imported as are the 
         others. To create your own dependencies, just make sure to select the right 
         file within the Source Code tree before adding a new file. The new file will be 
         created beneath the selected file, indicating that the new file relies on 
         features provided by the "parent".</p>
      <p>Custom code objects can further be divided into two more types: External binary 
         references and Embedded objects. If you create a code object that ends with 
         ".dll" SGDK2 will assume that you are referring to an external DLL file that 
         resides in the directory where the SGDK2 project file resides or where 
         SGDK2IDE.exe resides. When the project is compiled, the specified DLL filename 
         will be copied from one of those locations (assuming it exists) into the output 
         folder where the project executable resides. This is to support 3rd-party 
         libraries such as FMOD that you may want to integrate into your project. Files 
         that do not end with ".dll" must end with ".cs" indicating that they are C# 
         ("c-sharp") code files. ".cs" is the default extention if none is specified.</p>
      <p>Finally, the embedded objects can have two components: plain text source code, 
         and embedded binary data. Sound effects are a good example of custom objects 
         that utilize both of these. There is a small bit of code that handles the 
         particular sound effect, linking it to the rest of the project, and then there 
         is the binary data which usually comes from an MP3, OGG or MOD file (any type 
         supported by FMOD may be used). The binary data is managed with menu commands 
         that are available when the code editor is editing a custom code object.</p>
      <h2>File Menu</h2>
      <p>The file menu contains commands related to the code editor because the code 
         editor works with objects that are like files embedded in the project.</p>
      <h3>Rename Custom Code Object</h3>
      <p class="SubPara">Rename the code object/file currently being edited. The name 
         must follow the rules for file naming because during the process of compiling 
         the project, a file by this name will be created. The name must also be unique 
         among all code files in the project.</p>
      <h2>Edit Menu</h2>
      <p>This menu provides common commands for text editing</p>
      <h3>Undo</h3>
      <p class="SubPara">Undo the last typing, deleting or text replacement done in the 
         text editor. Multi-level undo is supported, so repeated undo commands will 
         continue to undo older changes. There is a limit of about 1 MB, so if more than 
         1 MB worth of changes have been made, any changes before 1 MB will be 
         forgotten.</p>
      <h3>Redo</h3>
      <p class="SubPara">Redo the last operation that was undone. Multi-level redo is 
         supported, so if there have been multiple undo commands executed, they can all 
         be re-done. Once the text is manually changed, however, no more redo commands 
         can be executed.</p>
      <h3>Find...</h3>
      <p class="SubPara">Displays a window with a simple interface supporting common 
         features for finding text within the code.</p>
      <h3>Find Next</h3>
      <p class="SubPara">Find the next occurrence of the last text that was searched 
         with the "Find" command.</p>
      <h3>Replace</h3>
      <p class="SubPara">Displays a window with a simple interface supporting common 
         features for finding and replacing occurrences of specific text.</p>
      <h3>Go To Line...</h3>
      <p class="SubPara">Jump to a specific line number in the code. This is useful if 
         an error occurred while compiling the project. It will jump the the beginning 
         of the specified line number. (You can also see the current line number on the 
         status bar.)</p>
      <h2>Embedded Data</h2>
      This menu is only available when the code editor is editing a custom code 
      object. Built-in code does not have any embedded data, or rather, the data 
      associated with built-in code is generated by data provided to the IDE.
      <h3>Load From File...</h3>
      <p class="SubPara">Use this command to load binary data from an external file and 
         embed it as the binary data associated with the current code object. For 
         example, to embed a sound effect, you could select an OGG file to embed.</p>
      <h3>Edit As Text...</h3>
      <p class="SubPara">If the binary data is in fact just a big chunk of text (perhaps 
         an XML document containing dialog or some plain-text data used by your code) 
         you can use this to edit the data in a text editor. Do not edit binary data 
         (sounds etc.) as text.</p>
      <h3>Clear (<i>Size</i>)</h3>
      <p class="SubPara">This menu item displays the size of the embedded data and 
         allows it to be deleted from the project.</p>
      <h3>Play with FMOD</h3>
      <p class="SubPara">Operating on the assumption that much of the binary data 
         embedded represents sounds, this command will try to play the binary data as a 
         sound using the FMOD library</p>
      <h2>Sound Effects Sample</h2>
      <p>Below is some sample code that resembles the code that most sound effects or 
         pieces of music use. It relies on fmodbase.cs and its dependencies, so it 
         cannot be used on its own, but serves as a good template for adding new sounds 
         (alternatively, you can import any sound effect and just change the file name 
         and the class name in the code, and replace the binary data with your own). 
         Notice the code for "Volume". A different number between 0 and 1 can be 
         specified here to affect the playback volume of the sound.</p>
      <pre style='margin-left:15px;font-size:10.0pt;font-family:"Courier New"'>
<span
style='color:blue'>namespace</span> CustomObjects
{
   <span style='color:blue'>public class</span> MySound : FMODBase
   {
      <span style='color:blue'>private static</span> MySound m_instance = <span
style='color:blue'>null</span>;

      <span style='color:blue'>public</span> MySound()
      {
      }

      <span style='color:blue'>public static</span> MySound Value
      {
         <span style='color:blue'>get</span>
         {
            <span style='color:blue'>if</span> (m_instance == <span style='color:blue'>null</span>)
               m_instance = <span style='color:blue'>new</span> MySound();
            <span style='color:blue'>return</span> m_instance;
         }
      }

      <span style='color:blue'>protected override float</span> Volume
      {
         <span style='color:blue'>get</span>
         {
            <span style='color:blue'>return</span> 0.75f;
         }
      }
   }
}
</pre>
   </body>
</html>
